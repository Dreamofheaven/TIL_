09. SQL-Advanced 01

sql에서 특정한 구문을 실행하면 여러가지 구문을 ?
코드의 묶음들 사용
트리거를 사용해서 자동화 비슷하게 어떠한 상황이 발생했을 때
자동적으로 이런 코드를 실행할 수 있게, 방아쇄? 방아쇠 같은거

1. Transaction
(다 성공하던지 혹은 다 실채하던지 해야하는)여러 쿼리문을 묶어서 하나의 작업처럼 처리하는 방법
지금까지는 구문의 종료 시점을 세미콜론으로 이어지게 하는데,
이런 것들이 각각 역할이 최종적으로 하나의 역할을 하는거잖아요
이런 경우의 코드가 있다면 하나로 묶어서 진행을 해보려고 하한다.
그런 것을 트렌젝션이라고 한다. 

중간에 하나라도 문제가 생기면 안된다. 
트랜잭션의 예시는 계좌이체 

- Transaction 문법
START TRANSACTION;

우리가 지금까지 작성한 모든 코드는 암시적으로 자동으로 커밋되었었음

Transaction정리 => 쪼개질 수 없는 업무처리의 단위
전체가 수행되거나 또는 전혀 수행되지 않아야 함

데이터베이스의 일관성을 유지하기 위해서 사용하는 트랜잭션이다. 

02. Triggers
특정 이벤트에 대한 응답으로 자동으로 실행되는 것 
INSERT, UPDATE, DELETE
-> 이 3개의 특징은 데이터베이스에 변화가 생긴 것 
이런 변화가 생기는 이벤트가 발생했을 때 ~~하겠다.
USER가 글을 create 했다고 합시다.
글을 쓰면 이 사람이 글을 썼어요 라고 하는 것을 다른 테이블에 기록하는 행동을 만든다고 해봅시다
즉 이 트리거는 어떤 사람이 글을 쓰면 이것이 일종의 방아쇠 역할을 하는거예요
누구누구가 글을 썼 어요 하는 것을 다른 테이블에 트리거 하는거예요
이것을 자동화하겠다. 앞에 특정 이벤트가 있어야한다.
user가 글을 썼을 때 ~~ 하겠따.

방아쇠는 눌렀을 때 총알이 발사되는데
눌렀을 떄의 기준을 INSERT, UPDATE, DELETE로 설정하겠다.
~~하면, 이런 조건들을 걸어놔야한다. 
~를 추가한 후에 ~하겠다.
~를 수정하기 전에 ~하겠다.
~를 삭제한 후에 ~하겠다.

전 후가 들어가 있어요. 트리거의 특징이다. 
앞에 조건이 단순히 조건 하나가 아니라 사건이 발생하기 전후에 발생할 수 있어요

Trigger 문법
트리거도 트리거를 만드는 것부터 시작
CREATE TRIGGER triger namek


